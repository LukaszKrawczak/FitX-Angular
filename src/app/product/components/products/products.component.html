<component-title [title]="productsTitle"></component-title>
<div [ngClass]="(isHandset$ | async) ? 'mobile-content' : 'desktop-content'">

  <a
    type="button"
    class="btn btn-primary"
    *ngIf="appUser$"
    routerLink="/producty/nowy">
    Nowy Produkt
  </a>
  <input
    #query
    (keyup)="filter(query.value)"
    type="text"
    class="form-control"
    placeholder="Nazwa produktu..."
  >

  <table class="table table-striped">
    <thead>
    <tr>
      <th></th>
      <th class="text-left">Nazwa produktu</th>
      <th class="text-center">Ilość</th>
      <th class="text-right" style="width: 200px">Kalorie</th>
      <th class="text-right"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let product of products | filterProduct: query.value">
      <th style="width: 100px;">
        <div [style.backgroundImage]="'url(' + product.imageUrl + ')'" class="thumbnail"></div>
      </th>
      <th class="text-left">{{product.name.charAt(0).toUpperCase() + product.name.substring(1)}}</th>
      <th class="text-center">{{product}}</th>
      <th class="text-right">{{product.nutrition.kcal}}</th>
      <th *ngIf="appUser$" class="text-right">
        <button
          type="button" class="btn btn-default btn-sm"
          *ngIf="appUser$.isAdmin"
          [routerLink]="['/producty/edycja', product.key]">
          Edit
        </button>
      </th>
    </tr>
    </tbody>
  </table>

</div>
